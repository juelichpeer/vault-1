<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VAULT — Admin Dashboard</title>
  <style>
    :root{
      --bg:#0b0f16; --panel:rgba(255,255,255,.06); --stroke:rgba(255,255,255,.18);
      --text:#e7ebf3; --muted:#a8b0c0; --gold:#caa66a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;color:var(--text);font-family:ui-sans-serif,-apple-system,Segoe UI,Roboto,Arial;
      background:
        radial-gradient(1200px 800px at 20% -10%, #1a2233 0%, transparent 60%),
        radial-gradient(900px 600px at 120% 10%, #131a26 0%, transparent 60%),
        var(--bg);
    }
    .app{display:grid;grid-template-columns:260px 1fr;grid-template-rows:auto 1fr;min-height:100%}
    header{
      grid-column:1/3;display:flex;align-items:center;justify-content:space-between;
      padding:14px 18px;border-bottom:1px solid var(--stroke);
      backdrop-filter:blur(10px);background:rgba(255,255,255,.04);
    }
    .brand{letter-spacing:.12em;text-transform:uppercase;color:var(--gold);font-weight:700}
    .pill{padding:6px 10px;border:1px solid var(--stroke);border-radius:999px;background:rgba(255,255,255,.06);font-size:12px}
    .btn{
      padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);
      background:linear-gradient(180deg,rgba(202,166,106,.85),rgba(202,166,106,.65));
      color:#0b0f16;font-weight:700;cursor:pointer
    }
    aside{
      border-right:1px solid var(--stroke);padding:16px;backdrop-filter:blur(10px);background:rgba(255,255,255,.03)
    }
    .nav h3{margin:0 0 10px;font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
    .nav button{
      width:100%;text-align:left;margin-bottom:8px;padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);
      background:rgba(255,255,255,.04);color:var(--text);cursor:pointer
    }
    main{padding:20px;display:grid;gap:18px}
    .card{
      background:var(--panel);border:1px solid var(--stroke);border-radius:18px;padding:18px;
      box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
      backdrop-filter:blur(12px)
    }
    h2{margin:0 0 8px;font-size:18px}
    h4{margin:10px 0 8px;font-size:13px;color:var(--muted);text-transform:uppercase;letter-spacing:.06em}
    input{
      width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);
      background:rgba(255,255,255,.03);color:var(--text)
    }
    .row{display:flex;gap:10px;align-items:center}
    .stack{display:grid;gap:10px}
    .muted{color:var(--muted)}
    @media (max-width:900px){.app{grid-template-columns:1fr}.hide-sm{display:none}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">VAULT</div>
      <div class="row">
        <span id="who" class="pill">…</span>
        <span id="role" class="pill">role: …</span>
        <button id="logoutBtn" class="btn">Sign out</button>
      </div>
    </header>

    <aside>
      <div class="nav">
        <h3>Sections</h3>
        <button data-target="owner-tools">A — Owner Tools</button>
        <button data-target="invites">B — Members & Invites</button>
        <button data-target="documents">C — Documents</button>
        <button data-target="chats">D — Chats</button>
        <button data-target="activity">E — Activity & Notifications</button>
      </div>
    </aside>

    <main>
      <!-- A -->
      <section id="owner-tools" class="card">
        <h2>A — Owner Tools: Members & Roles</h2>
        <p class="muted">Only the <b>Owner</b> can change roles. (Server action coming next.)</p>
        <h4>Target User Email</h4>
        <div class="stack">
          <input id="manageEmail" placeholder="user@example.com" />
          <div class="row">
            <button id="makeAdminBtn" class="btn">Make admin</button>
            <button id="makeMemberBtn" class="btn">Make member</button>
          </div>
          <small class="muted">UI-only now; will call a secure Netlify Function.</small>
        </div>
      </section>

      <!-- B -->
      <section id="invites" class="card">
        <h2>B — Members & Invites (Magic Links)</h2>
        <p class="muted">Public sign-ups are disabled. Magic links are sent by admin/owner. (Coming next.)</p>
        <div class="stack">
          <input id="inviteEmail" placeholder="newuser@example.com" disabled />
          <button id="inviteBtn" class="btn" disabled>Invite user (magic link)</button>
        </div>
      </section>

      <!-- C -->
      <section id="documents" class="card">
        <h2>C — Documents: Buckets, Tags & Secure Shares</h2>
        <p class="muted">Private buckets with RLS; temporary share links. (Coming soon.)</p>
        <button class="btn" disabled>Open documents</button>
      </section>

      <!-- D -->
      <section id="chats" class="card">
        <h2>D — Chats: Direct & Group</h2>
        <p class="muted">Direct messages + groups with policies. (Coming soon.)</p>
        <button class="btn" disabled>Open chats</button>
      </section>

      <!-- E -->
      <section id="activity" class="card">
        <h2>E — Activity & Notifications</h2>
        <p class="muted">Audit log for logins, logouts, role changes. Toasts show in real time.</p>
        <button class="btn" disabled>View audit log (coming)</button>
      </section>
    </main>
  </div>

  <script type="module" src="./dashboard.js"></script>
</body>
</html>
